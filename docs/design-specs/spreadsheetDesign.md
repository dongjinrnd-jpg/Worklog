# 스프레드시트 구조 설계 문서

## 개요
Google 스프레드시트를 백엔드 데이터베이스로 활용하여 업무일지 웹앱을 구현합니다. 
이 문서는 스프레드시트 구조와 각 시트의 필드 정의를 포함합니다.

---

## 스프레드시트 이름: `프로젝트관리`

### 1. 업무일지 시트 (`업무일지`)

업무일지 시트는 담당자가 매일 작성하는 업무 기록을 저장합니다.

| 필드명 | 데이터 타입 | 설명 | 필수 여부 |
|--------|------------|------|-----------|
| 날짜 | 날짜(YYYY-MM-DD) | 업무 수행 날짜 | 필수 |
| ITEM | 텍스트 | 업무 항목 | 필수 |
| PART NO | 텍스트 | 부품 번호 | 필수 |
| 단계 | 텍스트 | 업무 단계 | 필수 |
| 담당자 | 텍스트 | 업무 담당자 이름 | 필수 |
| 계획 | 텍스트 | 업무 계획 내용 | 선택 |
| 실적 | 텍스트 | 업무 실적/결과 | 선택 |
| 비고 | 텍스트 | 추가 참고사항 | 선택 |

샘플 데이터:
```
2023-04-15, 전자제어장치, ECU-001, 설계, 홍길동, 회로도 검토, 회로도 1차 검토 완료, 수정사항 2건 발견
```

---

### 2. 프로젝트 시트 (`프로젝트`)

프로젝트 시트는 전체 프로젝트 목록과 상세 정보를 관리합니다.

| 필드명 | 데이터 타입 | 설명 | 필수 여부 |
|--------|------------|------|-----------|
| NO | 숫자 | 프로젝트 고유 번호 | 필수 |
| 진행여부 | 텍스트 | 프로젝트 진행여부 (진행, 보류, 대기, 중단, 완료) | 필수 |
| 고객사 | 텍스트 | 고객 회사명 | 필수 |
| 소속 | 텍스트 | 소속 부서 또는 조직 | 선택 |
| 모델 | 텍스트 | 제품 모델명 | 선택 |
| ITEM | 텍스트 | 개발 항목명 | 필수 |
| PART NO | 텍스트 | 부품 번호 | 필수 |
| 개발담당 | 텍스트 | 개발 담당자명 (쉼표로 구분된 복수 값 가능) | 필수 |
| 현재단계 | 텍스트 | 현재 진행 중인 구체적 단계 | 필수 |
| 업무진행사항 | 텍스트 | 업무 진행 상태 설명 | 선택 |
| 애로사항 | 텍스트 | 진행 중 발생한 문제점 | 선택 |
| 비고 | 텍스트 | 추가 참고사항 | 선택 |
| 업무추가 일정계획 | 텍스트 | 향후 일정 계획 | 선택 |
| 개발업무단계 | 텍스트 | 개발 업무 단계 목록 (쉼표로 구분) | 필수 |
| 대일정 | 날짜 범위 | 프로젝트 전체 일정 | 선택 |
| 판매가 | 숫자 | 제품의 판매 가격 | 선택 |
| 재료비 | 숫자 | 제품 제작에 소요되는 재료 비용 | 선택 |
| 재료비율 | 숫자(%) | 판매가 대비 재료비 비율 | 선택 |

샘플 데이터:
```
1, 진행, 기아군수, 연구소, TY CAB TILT(표준차), TY CAB TILT SYSTEM, AD62203013, 엄응조/하병욱, 양산준비, PO 접수, 누유 발생에 따른 개선, 비고입력, 25.5 정규 양산 납품, 설계/부품개발/SAMPLE/PPAP/PO 접수/양산준비/초도양산/출고, 2025-01-01~2025-12-31, 5000000, 2500000, 50
```

---

### 3. 담당자 시트 (`담당자`)

담당자 시트는 프로젝트 담당자 정보를 관리합니다.

| 필드명 | 데이터 타입 | 설명 | 필수 여부 |
|--------|------------|------|-----------|
| 직급 | 텍스트 | 담당자 직급 | 필수 |
| 이름 | 텍스트 | 담당자 이름 | 필수 |

샘플 데이터:
```
수석연구원, 홍길동
선임연구원, 김철수
연구원, 이영희
```

---

## 관계 구조

1. `담당자` 시트의 **이름** 필드는 `업무일지` 시트의 **담당자** 필드와 연결됩니다.
2. `담당자` 시트의 **이름** 필드는 `프로젝트` 시트의 **개발담당** 필드에 포함될 수 있습니다.
3. `프로젝트` 시트의 **ITEM**과 **PART NO**는 `업무일지` 시트의 동일 필드와 연결됩니다.
4. 메인 화면의 프로젝트 현황은 `프로젝트` 시트에서 **진행여부**가 '진행'인 항목만 표시합니다.

---

## 데이터 검증 및 제약조건

1. **날짜** 필드는 항상 YYYY-MM-DD 형식이어야 합니다.
2. **NO** 필드는 고유한 값을 가져야 합니다.
3. **진행여부** 필드는 미리 정의된 값(진행, 보류, 대기, 중단, 완료) 중 하나여야 합니다.
4. **담당자** 필드는 `담당자` 시트에 존재하는 이름이어야 합니다.

---

## 스프레드시트 생성 및 초기 설정 방법

1. [Google Drive](https://drive.google.com)에서 새 스프레드시트 생성
2. 스프레드시트 이름을 `프로젝트관리`로 설정
3. 위에 정의된 세 개의 시트(`업무일지`, `프로젝트`, `담당자`) 생성
4. 각 시트의 첫 번째 행에 필드명 입력
5. 서비스 계정에 스프레드시트 접근 권한 부여:
   - 스프레드시트 공유 설정에서 서비스 계정 이메일(`sheets-api-worklogs@worklogs-457006.iam.gserviceaccount.com`)에 편집자 권한 부여 